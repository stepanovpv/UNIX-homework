# Настроить SSH аутентификацию только по ключу, отключить парольную аутентификацию, запретить логин под root

1. Генерируем на стороне клиента ключи (ssh-keygen). Прописываем публичный ключ на сервере.

1. Проверяем, что пароль для пользователя root не задан:

pavel@instance-1:~$ sudo cat /etc/shadow
root:*:18656:0:99999:7:::

2. В конфигурационном файле sshd запрещаем логин по root, а так же отключаем аутентификацию по паролю

pavel@instance-1:~$ sudo vim /etc/ssh/sshd_config
...
PermitRootLogin no
...
PasswordAuthentication no
...

3. Перезапускаем сервис 
pavel@instance-1:~$ sudo service sshd reload

Подключение по SHH, с ранее созданному пользователем pavel, добавленному sudoers происходит успешно.

Подключнеие по SSH с пользователем root не осуществляется.